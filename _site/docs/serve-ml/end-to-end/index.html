<!DOCTYPE html>




<html
 dir="ltr"
 lang="en"
 class="has-navbar-fixed-top">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content=#ffffff>
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="shortcut icon" type="image/png"
           href="/favicon.png" 
    />
    <script defer src="https://unpkg.com/alpinejs@3.9.0/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-social@1/bin/bulma-social.min.css">
    



    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Running End To End | Don Irwin</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Running End To End" />
<meta property="og:locale" content="en" />
<meta name="description" content="The demo site for Bulma Clean Theme, made for Jekyll and GitHub pages websites" />
<meta property="og:description" content="The demo site for Bulma Clean Theme, made for Jekyll and GitHub pages websites" />
<link rel="canonical" href="http://localhost:4000/docs/serve-ml/end-to-end/" />
<meta property="og:url" content="http://localhost:4000/docs/serve-ml/end-to-end/" />
<meta property="og:site_name" content="Don Irwin" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Running End To End" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"The demo site for Bulma Clean Theme, made for Jekyll and GitHub pages websites","headline":"Running End To End","url":"http://localhost:4000/docs/serve-ml/end-to-end/"}</script>
<!-- End Jekyll SEO tag -->

    <!-- head scripts --><style>
  .menu {
    position: sticky;
    display: inline-block;
    vertical-align: top;
    max-height: 100vh;
    overflow-y: auto;
    width: 400px;
    top: 60px;
    bottom: 0;
    padding: 0px;  
  }

  .content {
    display: inline-block;
  }  
</style>

</head>

  <body>
    <nav class="navbar is-primary  is-fixed-top " x-data="{ openNav: false }">
    <div class="container">
        <div class="navbar-brand">
            <a href="/" class="navbar-item">
                Don Irwin
            </a>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu" :class="{ 'is-active': openNav }" x-on:click="openNav = !openNav">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" id="navMenu" :class="{ 'is-active': openNav }">
            <div class="navbar-start">
                <a href="/" class="navbar-item ">Home</a>
                
                
                    
                    <a href="/docs/" class="navbar-item ">Featured Repos</a>
                    
                
                
            </div>

            <div class="navbar-end">
                
            </div>

        </div>
    </div>
</nav>

    
        <section class="hero  is-small  is-bold is-primary" >
    <div class="hero-body "  >
        <div class="container">

            <div class="columns is-variable">

                                
                <div class="column is-1">
                    <img src="/img/don_irwin_profile_small.gif">
                </div>
                

                <div class="column">
                    <h1 class="title is-2">Running End To End</h1>
                    <p class="subtitle is-3">Serve ML Models With FastAPI and K8s</p>

                    
                </div>
            </div>


        </div>
    </div>
</section>
    
    



    <section class="section">
        <div class="container">
            <div class="columns is-multiline">
                
                <div class="column is-4-desktop is-4-tablet">
                    

<aside class="menu">

    <p class="menu-label">World Trade Data Visualization</p>
    <ul class="menu-list">
        
        <li>
            <a href="/docs/data-visualization/overview/" class="">Overview</a>
            
        </li>
        
        <li>
            <a href="/docs/data-visualization/docker/" class="">Running From Docker</a>
            
        </li>
        
        <li>
            <a href="/docs/data-visualization/local-code/" class="">Running From Local Code</a>
            
        </li>
            
    </ul>

    <p class="menu-label">Data Streaming Pipeline</p>
    <ul class="menu-list">
        
        <li>
            <a href="/docs/data-streaming/overview/" class="">Overview</a>
            
        </li>
        
        <li>
            <a href="/docs/data-streaming/first-time/" class="">Running the Very First First Time</a>
            
        </li>
        
        <li>
            <a href="/docs/data-streaming/monitor/" class="">Viewing / Monitoring Stream Progress</a>
            
        </li>
            
    </ul>

    <p class="menu-label">Serve ML Models With FastAPI and K8s</p>
    <ul class="menu-list">
        
        <li>
            <a href="/docs/serve-ml/overview/" class="">Overview</a>
            
        </li>
        
        <li>
            <a href="/docs/serve-ml/video-walkthrough/" class="">End to End Video Walkthrough</a>
            
        </li>
        
        <li>
            <a href="/docs/serve-ml/overview-minikube/" class="">Minikube Environment</a>
            
        </li>
        
        <li>
            <a href="/docs/serve-ml/overview-istio/" class="">Istio Sidecar and Proxy</a>
            
        </li>
        
        <li>
            <a href="/docs/serve-ml/requirements-deps/" class="">System Requirements</a>
            
        </li>
        
        <li>
            <a href="/docs/serve-ml/deps/" class="">Dependencies</a>
            
        </li>
        
        <li>
            <a href="/docs/serve-ml/end-to-end/" class="is-active">Running End to End</a>
            
        </li>
        
        <li>
            <a href="/docs/serve-ml/gh-actions/" class="">Testing With Github Actions</a>
            
        </li>
        
        <li>
            <a href="/docs/serve-ml/lt-and-td/" class="">K6 Testing and Teardown</a>
            
        </li>
            
    </ul>

</aside>
                </div>
                
                <div class="column is-8">
                    
                    

                    
                    
                    
<div class="content">
    <h2 id="running-end-to-end-runsh-script">Running End-to-End (<a href="https://github.com/Don-Irwin/fastapi_ml_k8_k6_gh_actions/blob/main/run.sh/" target="_blank"><code class="language-plaintext highlighter-rouge">run.sh</code></a> Script)</h2>

<p>Once the dependencies are installed, we’re able to run the system end to end.</p>

<p>This is done through the <code class="language-plaintext highlighter-rouge">run.sh</code> script which orchestrates requirements harvesting, testing, image building, delpoyment management and waiting for web applications to be up.</p>

<p>If the repo has already been cloned, move into the download directory and use the following command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>. run.sh
</code></pre></div></div>
<p>If the repo has not yet been cloned, run the following command to pull down the repo and run the system:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/Don-Irwin/fastapi_ml_k8_k6_gh_actions &amp;&amp; cd ./fastapi_ml_k8_k6_gh_actions &amp;&amp; . run.sh
</code></pre></div></div>
<h2 id="accessing-the-three-uis-exposed">Accessing the Three UIs Exposed:</h2>

<p>If the system is able to run end-to-end, we should see this message.</p>

<p>The message below is misleading and yet not, in that it is referencing the ip addresses and ports within minikube (which indeed will render on your local box) – however, if you wish to expose these ports your network or the internet these ip addresses are not useful.  Rather the ports below (which may be configured within the deployment YML and port forwarding set ups) are better.</p>

<p><img src="/docs/serve-ml/img//happy_path.png" alt="Installation Good" class="img-responsive" /></p>

<p>Upon seeing this message we should be able to open:</p>

<ul>
  <li>Grafana – in order to see the progress of the load testing (which will be running):
  Ctrl + Click – to open in new tab.
 <a href="http://localhost:3000">Grafana http://localhost:3000</a>
<img src="/docs/serve-ml/img/grafana.png" alt="Installation Good" class="img-responsive" /></li>
  <li>The FASTAP swagger interface:
   Ctrl + Click – to open in new tab.
  <a href="http://localhost:8000/docs">FastAPI Interface http://localhost:8000/docs</a>
<img src="/docs/serve-ml/img/fast_api.png" alt="Installation Good" class="img-responsive" /></li>
  <li>The Flask Web Application:
   Ctrl + Click – to open in new tab.
  <a href="http://localhost:5000">Flask Web Application http://localhost:5000</a>
<img src="/docs/serve-ml/img/flask.png" alt="Installation Good" class="img-responsive" /></li>
</ul>


</div>
                </div>
                
            </div>
        </div>
    </section>
    
        <footer class="footer">
    <div class="container">
        
        

        <!--
             <div class="content is-small has-text-centered">
                <p class="">Theme built by <a href="https://www.csrhymes.com">C.S. Rhymes</a></p>
            </div> 
        -->

    </div>
</footer>

    
    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts --></body>
</html>
